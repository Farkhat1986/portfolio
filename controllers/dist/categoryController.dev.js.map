{"version":3,"sources":["categoryController.js"],"names":["CategoryController","req","res","name","body","Categories","create","categories","json","findAll","categoriesList","next","id","params","findOne","where","category","ApiError","badRequest","categoryController"],"mappings":";;;;;;;AAAA;;AACA;;;;;;;;IAEMA,kB;;;;;;;;;2BACWC,G,EAAKC,G;;;;;;AACNC,cAAAA,I,GAASF,GAAG,CAACG,I,CAAbD,I;;8CACiBE,kBAAWC,MAAX,CAAkB;AAACH,gBAAAA,IAAI,EAAJA;AAAD,eAAlB,C;;;AAAnBI,cAAAA,U;+CACCL,GAAG,CAACM,IAAJ,CAASD,UAAT,C;;;;;;;;;;;2BAGEN,G,EAAKC,G;;;;;;;8CACeG,kBAAWI,OAAX,E;;;AAAvBC,cAAAA,c;gDACCR,GAAG,CAACM,IAAJ,CAASE,cAAT,C;;;;;;;;;;;2BAGET,G,EAAKC,G,EAAKS,I;;;;;;AACPC,cAAAA,E,GAAOX,GAAG,CAACY,M,CAAXD,E;;8CACeP,kBAAWS,OAAX,CAAmB;AAAEC,gBAAAA,KAAK,EAAE;AAACH,kBAAAA,EAAE,EAAFA;AAAD;AAAT,eAAnB,C;;;AAAjBI,cAAAA,Q;;kBACFA,Q;;;;;gDACOL,IAAI,CAACT,GAAG,CAACM,IAAJ,CAASS,mBAASC,UAAT,CAAoB,iBAApB,CAAT,CAAD,C;;;gDAERhB,GAAG,CAACM,IAAJ,CAASQ,QAAT,C;;;;;;;;;;;;;;AAInB,IAAMG,kBAAkB,GAAG,IAAInB,kBAAJ,EAA3B","sourcesContent":["import { Categories } from '../model/model.js'\r\nimport { ApiError } from '../error/ApiError.js';\r\n\r\nclass CategoryController {\r\n    async create(req, res) {\r\n        const { name } = req.body;\r\n        const categories = await Categories.create({name})\r\n        return res.json(categories);\r\n    }\r\n\r\n    async getAll(req, res) {\r\n        const categoriesList = await Categories.findAll()\r\n        return res.json(categoriesList)\r\n    }\r\n\r\n    async getOne(req, res, next) {\r\n            const { id } = req.params;\r\n            const category = await Categories.findOne({ where: {id}});\r\n            if(!category) {\r\n                return next(res.json(ApiError.badRequest(\"Нет такой фигни\")));\r\n            }\r\n            return res.json(category)\r\n    }\r\n}\r\n\r\nconst categoryController = new CategoryController();\r\n\r\n\r\nexport { categoryController };"],"file":"categoryController.dev.js"}