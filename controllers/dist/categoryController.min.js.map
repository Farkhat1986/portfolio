{"version":3,"sources":["categoryController.js"],"names":["_model","require","_ApiError","CategoryController","req","res","name","body","Categories","create","categories","json","findAll","categoriesList","next","id","params","findOne","where","ApiError","badRequest","category","categoryController"],"mappings":"sGAAA,IAAAA,OAAAC,QAAA,qBACAC,UAAAD,QAAA,kaAEME,uHACWC,EAAKC,kGACNC,EAASF,EAAIG,KAAbD,uCACiBE,OAAAA,WAAWC,OAAO,CAACH,KAAAA,mBAAtCI,2BANdL,EAAAM,KAAAD,uEAUiBN,EAAKC,kIACeG,OAAAA,WAAWI,yBAAlCC,2BACCR,EAAIM,KAAKE,uEAGPT,EAAKC,EAAKS,kGACPC,EAAOX,EAAIY,OAAXD,qCACeP,OAAAA,WAAWS,QAAQ,CAAEC,MAAO,CAACH,GAAAA,gBAd1DZ,kDAgBiBW,EAAKT,EAAIM,KAAKQ,UAAAA,SAASC,WAAW,sDAEtCf,EAAIM,KAAKU,iDAItBC,mBAAqB,IAAInB","file":"categoryController.min.js","sourcesContent":["import { Categories } from '../model/model.js'\r\nimport { ApiError } from '../error/ApiError.js';\r\n\r\nclass CategoryController {\r\n    async create(req, res) {\r\n        const { name } = req.body;\r\n        const categories = await Categories.create({name})\r\n        return res.json(categories);\r\n    }\r\n\r\n    async getAll(req, res) {\r\n        const categoriesList = await Categories.findAll()\r\n        return res.json(categoriesList)\r\n    }\r\n\r\n    async getOne(req, res, next) {\r\n            const { id } = req.params;\r\n            const category = await Categories.findOne({ where: {id}});\r\n            if(!category) {\r\n                return next(res.json(ApiError.badRequest(\"Нет такой фигни\")));\r\n            }\r\n            return res.json(category)\r\n    }\r\n}\r\n\r\nconst categoryController = new CategoryController();\r\n\r\n\r\nexport { categoryController };"]}