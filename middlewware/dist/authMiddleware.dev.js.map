{"version":3,"sources":["authMiddleware.js"],"names":[],"mappings":";;AACA","sourcesContent":["//*import jwt from 'jsonwebtoken'//*\r\nimport { config } from 'dotenv'\r\n\r\n//*config();\r\n//*const secret = process.env.SECRET_KEY;\r\n\r\n/** Проверка - авторизован пользователь или нет. */\r\n//*export function authMiddleware (req, res, next) {\r\n//*    if(req.method === \"OPTIONS\") {//*\r\n   //*     next();\r\n//*    }\r\n //*   try {\r\n //*       const token = req.headers.authorization.split(' ')[1];\r\n//*        if(!token) {\r\n//*            return res.status(401).json({ message: \"Не авторизован\"});\r\n//*        }\r\n//*        const decoded = jwt.verify(token, secret);\r\n//*        req.user = decoded;\r\n//*        next();\r\n//*    } catch(e) {\r\n   //*     res.status(401).json({ message: \"Нет доступа\"});\r\n//*    }\r\n//*}"],"file":"authMiddleware.dev.js"}